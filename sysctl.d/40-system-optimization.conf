# Memory and system optimization for soft router
# Optimizes memory usage, swap behavior, and system responsiveness

# Memory management
vm.swappiness = 10
vm.dirty_ratio = 15
vm.dirty_background_ratio = 5
vm.vfs_cache_pressure = 50

# Out of Memory killer
vm.panic_on_oom = 0
vm.oom_kill_allocating_task = 1

# Kernel panic settings
kernel.panic = 10
kernel.panic_on_oops = 1

# Process limits
kernel.pid_max = 65536

# Shared memory settings
kernel.shmmax = 268435456
kernel.shmall = 268435456

# File descriptor limits
fs.file-max = 2097152

# ARP table settings for better network performance
net.ipv4.neigh.default.gc_thresh1 = 4096
net.ipv4.neigh.default.gc_thresh2 = 6144
net.ipv4.neigh.default.gc_thresh3 = 8192
net.ipv4.neigh.default.gc_interval = 30
net.ipv4.neigh.default.gc_stale_time = 120
